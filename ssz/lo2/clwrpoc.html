<html>
    <head>
        <title>Third-Party Website</title>
    </head>
    <body style="background-color:#ADD8E6">
        <script type="text/javascript" src="https://esw1234.github.io/ssz/lightning/lo-lwr-application.js"></script>
        <lo-lwr-application id="container"></lo-lwr-application>

        <!-- TESTS -->
        <script>
            setTimeout(() => {
                const element = document.getElementById('container');
                element.addEventListener('ShowRecaptcha', (event) => {
                    const form = document.getElementById('form');
                    form.style.display = 'inline';
                    const button = document.getElementById('button');
                    button.addEventListener("click", (event) => {
                        const inputEl = document.getElementById('returnInput');
                        const customEvent = new CustomEvent('returnValue', {
                            detail: {
                                returnValue: inputEl.value
                            }
                        });
                        element.dispatchEvent(customEvent);
                        form.style.display = 'none';
                    });
                });
            }, "500");
        </script>
        <div>
            <div id="form" style="display:none">
                <label>Return: <input type="text" id="returnInput"/></label>
                <br />
                <span>Write XYZ in the input box.</span>
                <br />
                <button id="button">Submit</button>
            </div>
        </div>
    </body>
</html>
