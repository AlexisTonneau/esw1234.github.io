<!DOCTYPE html>
<html lang="en">
  <body>
    <div ng-app="myApp" ng-controller="myCtrl">
    <script src="https://trialorgfarmforu5.my.localhost.sfdcdev.salesforce.com:7443/lightning/lightning.out.client.js"></script>
    <framebus-lo-fragment-z4vi078s2c93toljd3gjqunpc0ts9ur85xj5te9swg5></framebus-lo-fragment-z4vi078s2c93toljd3gjqunpc0ts9ur85xj5te9swg5>
    <lightning-out data-url="https://trialorgfarmforu5.my.localhost.sfdcdev.site.com:7443/lp/landing-page/uma-lightning-out-landing-page-MCA7IJ6AQEABEY7DMBOK5QPBGXXM?LIGHTNING_OUT=true"></lightning-out>
    
    <script> 
        const customEventData = new CustomEvent("lo.dataSend", {
            detail: {
                type: "sendNumber",
                payload: {
                  number: 4
                }
            }
        });
        const loFragment= document.querySelector("framebus-lo-fragment-z4vi078s2c93toljd3gjqunpc0ts9ur85xj5te9swg5");
      
        loFragment.addEventListener("LightningOutLoaded", (e) => {
          loFragment.dispatchEvent(customEventData);
        });
      
        loFragment.addEventListener("lo.dataReceive", (e) => {
          if (e.detail.type === "thankYou") {
            document.location.href = e.detail.payload.url;
          } else {
            console.error("Unexpected event! " + JSON.stringify(e.detail));
          }
        })
    </script>
  </body>
</html>
