
<html>
	<head>
		<title>SDB3</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
	</head>
	<body>
		<h1>SDB3</h1>
		<h2>sdb3automation@test.com</h2>
    		<h2>test12345</h2>

		<!-- Edit page link -->
		<p><a id="editThisPageLink" target="_blank" style="color:blue">Edit this page</a></p>
		</br>
	
		<label for="idToken">Set identity token:</label>
		<input type="text" id="idToken" name="idToken" size="100">
		<button type="button" id="setIdentityToken" onclick="setIdentityToken()"> Confirm </button>
	
		<!-- Clear user session button -->
		<button type="button" id="clearAuthBtn" onclick="clearAuthSession()"> Clear User Session </button>
		
		<script type='text/javascript'>
			document.getElementById('editThisPageLink').href = "https://github.com/ESW1234/esw1234.github.io/edit/master" + window.location.pathname;
			
			function clearAuthSession() {
				console.log("Clearing user session.");
				embeddedservice_bootstrap.userVerificationAPI.clearSession();
			}
			
			function setIdentityToken(token) {
				var token = document.getElementById("idToken").value;

				embeddedservice_bootstrap.userVerificationAPI.setIdentityToken({
					"identityTokenType":"JWT",
					// Valid JWT
					"identityToken": token
				});
			}

			window.addEventListener("onEmbeddedMessagingReady", () => {
				// Embedded Messaging app ready
				console.log("onEmbeddedMessagingReady emitted");
				embeddedservice_bootstrap.autoResponseAPI.setAutoResponseParameters({
				    "userName" : "Guest",
				    "cartValue": "1000"
				});
			});
		</script>
		
		<!-- Snippet -->
		<script type='text/javascript'>
	var initESW = function(gslbBaseURL) {
		// Required if you want labels in a language that’s different from your user’s context.
		//embedded_svc.menu.settings.language = ''; //For example, enter 'en' or 'en-US'

		embedded_svc.menu.init(
			'https://embeddedsysautomation.test1.my.pc-rnd.salesforce.com',
			'https://d.la3-test1-uswest2-core4.pc-aws.salesforceliveagent.com/chat',
			gslbBaseURL,
			'00DSB0000005dC1',
			'Sachin'
		);
	};

	if (!window.embedded_svc || !window.embedded_svc.menu) {
		var s = document.createElement('script');
// 		s.setAttribute('src', 'https://embeddedsysautomation.test1.my.pc-rnd.salesforce.com/embeddedservice/menu/fab.js');
		s.setAttribute('src', 'https://service.force.com/embeddedservice/menu/fab.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
</script>

	</body>
</html>
