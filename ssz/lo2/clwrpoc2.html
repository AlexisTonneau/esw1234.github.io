<html>
    <head>
        <title>Third-Party Website</title>
        <style>
            body {
                border: 1px solid rgb(83, 83, 216);
                margin: auto;
                max-width: 800px;
                padding: 20px;
            }

            #form {
                border: 5px solid rgb(83, 83, 216);
                margin: 10px;
                padding: 10px;
            }
        </style>
    </head>
    <body style="background-color:#ADD8E6">
        <h1>Third-Party Website</h1>
        <script type="text/javascript" src="lo-lwr-application.js"></script>
        <lo-lwr-application id="container"></lo-lwr-application>

        <div style="display:inline-block">
            <div id="form" style="display:none;">
                <div style="display:inline-block">
                    <label>Return: <input type="text" id="returnInput"/></label>
                    <br />
                    <span>Write XYZ in the input box.</span>
                    <br />
                    <button id="button">Submit</button>
                </div>
            </div>
        </div>

        <h2>Legend</h2>
        <span>Blue = Third-Party Website</span><br/>
        <span>Yellow = ShadowRoot + IFrame</span><br/>
        <span>Green = Lightning Out Container</span>

        <h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vel ex nec elit ornare molestie et at ligula. Curabitur congue, mi a venenatis iaculis, quam turpis consectetur ipsum, ac efficitur magna tortor vitae felis. Fusce eu maximus sem. Ut libero velit, tincidunt eu ante vitae, venenatis bibendum mi. Nulla at volutpat ligula. Aliquam erat volutpat. Ut vitae ornare velit, vel sodales erat. Ut tincidunt velit ac velit consectetur, tincidunt placerat dolor tempor. Donec ultrices ornare tincidunt.</h2>
    </body>
</html>
 7 changes: 7 additions & 0 deletions7  
lightning-out2.0/force-app/main/default/lwc/lightningOutContainer/lightningOutContainer.html
Viewed
Original file line number	Diff line number	Diff line change
@@ -0,0 +1,7 @@
<template lwc:render-mode="light">
    <div style="padding: 5px; background-color: #E8FFC0;;">
        <c-show-recaptcha></c-show-recaptcha>
        <c-size-change></c-size-change>
    </div>
    <lwc:component lwc:is={componentConstructor}></lwc:component> 
</template>
 116 changes: 116 additions & 0 deletions116  
lightning-out2.0/force-app/main/default/lwc/lightningOutContainer/lightningOutContainer.js
Viewed
Original file line number	Diff line number	Diff line change
@@ -0,0 +1,116 @@
/* eslint-disable vars-on-top */
/* eslint-disable no-fallthrough */
/* eslint-disable no-case-declarations */
/* eslint-disable default-case */
/*
 * Copyright 2024 salesforce.com, inc.
 * All Rights Reserved
 * Company Confidential
 */      

// (1) Ensure that event.origin is set for all postMessage events.
// (2) For events from the host document to the iframe, we will set the iframe URL
//     as the targetOrigin and then check to make sure the origin matches the iframe 
//     URL when reading the postMessage event. We should know what this URL is because
//     we set it in the wrapping web component JS.
// function compareOrigin(eventOrigin) {
//     // TODO
// }

window.addEventListener("message", (event) => {
    const eventName = event.data.name;
    switch(event.data.type) {
        case "lo.wrapper-size":
            if (document.body.style.maxWidth !== event.data.width) {
                document.body.style.maxWidth = event.data.width;
            }
