<html>
	<head>
		<title>Async Client - Local</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	</head>
	<body style="background-image: url('http://esw1234.github.io/sachin/background.jpg'); height: 100%; width: 100%">
		<h1>Async Client - Local</h1>
		<p><a id="editThisPageLink" target="_blank" style="color:blue">Edit this page</a></p>

		<script>document.getElementById('editThisPageLink').href = "https://github.com/ESW1234/esw1234.github.io/edit/master" + window.location.pathname;</script>

		<!-- Local Dev page for Laptop -->
		<script type='text/javascript'>
    			function initEmbeddedMessaging() {
        			try {
					embeddedservice_bootstrap.settings.devMode = true;
					embeddedservice_bootstrap.settings.language = 'en'; // For example, enter 'en' or 'en-US'
					
					// Customers add such standard Javascript event listeners for specific MIAW events to act on them.
					 window.addEventListener("onEmbeddedMessagingReady", () => {
    						console.log("Received onEmbeddedMessagingReady event!!!");
						//embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({"Browser" : getBrowserInfo(), "OS" : "macOS"});
  					 });
	
//             				embeddedservice_bootstrap.init(
// 						'00DSB0000002q7N',
// 						'aa2',
// 						'https://esw.my.localhost.sfdcdev.site.com:6101/ESWMIAW11672789024201',
// 						{
// 							scrt2URL: 'https://miaw1.test1.my.pc-rnd.salesforce-scrt.com'
// 						}
// 					);

					// Q3 org - NA45 STMFA
// 					embeddedservice_bootstrap.init(
// 						'00DS7000000owIT',
// 						'MIAW1',
// 						'https://esw.my.localhost.sfdcdev.site.com:6101/ESWMIAW11672789024201',
// 						{
// 							scrt2URL: 'https://iana45a.stmfa.my.stm.salesforce-scrt.com',
// 							baseCoreUrl: 'https://esw.my.localhost.sfdcdev.salesforce.com:6101'
// 						}
// 					);
					
					// GS0 - Peter (https://salesforce.quip.com/lWHHAMx0Kp8u)
					embeddedservice_bootstrap.init(
						'00DB0000000EvEe',
						'MIAW',
						'https://esw.my.localhost.sfdcdev.site.com:6101/ESWMIAW11672789024201',
						{
							scrt2URL: 'https://neilwinter21.my.salesforce-scrt.com',
							baseCoreUrl: 'https://esw.my.localhost.sfdcdev.salesforce.com:6101'
						}
					);
        			} catch (err) {
            				console.error('Error loading Embedded Messaging: ', err);
        			}
    			};
			
			function getBrowserInfo() {
		navigator.browserInfo= (function(){
   			var ua= navigator.userAgent;
    			var tem; 
    			var M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
    			if(/trident/i.test(M[1])){
        			tem=  /\brv[ :]+(\d+)/g.exec(ua) || [];
        			return 'IE '+(tem[1] || '');
    			}
    			if(M[1]=== 'Chrome'){
        			tem= ua.match(/\b(OPR|Edge)\/(\d+)/);
        			if(tem!= null) return tem.slice(1).join(' ').replace('OPR', 'Opera');
    			}
    			M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];
    			if((tem= ua.match(/version\/(\d+)/i))!= null) M.splice(1, 1, tem[1]);
    			return M.join(' ');
		})();
		return navigator.browserInfo;
	};
		</script>
<!-- 		<script type='text/javascript' src='https://esw.my.localhost.sfdcdev.site.com:6101/ESWMIAW11672789024201/assets/js/bootstrap.js' onload='initEmbeddedMessaging()'></script> -->
		<script type='text/javascript' src='https://esw.my.localhost.sfdcdev.salesforce.com:6101/embeddedservice/asyncclient/bootstrap.js' onload='initEmbeddedMessaging()'></script>
	</body>
</html>
