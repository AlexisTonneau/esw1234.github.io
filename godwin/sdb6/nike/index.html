<html>
	<head>
		<title>SDB6 INAPP</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
		<style>
			.switch {
			  position: relative;
			  display: inline-block;
			  width: 60px;
			  height: 34px;
			}
			
			.switch input { 
			  opacity: 0;
			  width: 0;
			  height: 0;
			}
			
			.slider {
			  position: absolute;
			  cursor: pointer;
			  top: 0;
			  left: 0;
			  right: 0;
			  bottom: 0;
			  background-color: #ccc;
			  -webkit-transition: .4s;
			  transition: .4s;
			}
			
			.slider:before {
			  position: absolute;
			  content: "";
			  height: 26px;
			  width: 26px;
			  left: 4px;
			  bottom: 4px;
			  background-color: white;
			  -webkit-transition: .4s;
			  transition: .4s;
			}
			
			input:checked + .slider {
			  background-color: #2196F3;
			}
			
			input:focus + .slider {
			  box-shadow: 0 0 1px #2196F3;
			}
			
			input:checked + .slider:before {
			  -webkit-transform: translateX(26px);
			  -ms-transform: translateX(26px);
			  transform: translateX(26px);
			}
			
			/* Rounded sliders */
			.slider.round {
			  border-radius: 34px;
			}
			
			.slider.round:before {
			  border-radius: 50%;
			}
		</style>
	</head>
	<body>
		<h1>SDB6 INAPP</h1>
		<h2>godwin@sdb6.org</h2>
		<!-- Edit page link -->
		<p><a id="editThisPageLink" target="_blank" style="color:blue">Edit this page</a></p>
		</br>

		<!-- Auth mode switch -->
		<div>
			<h3>Authenticated</h3>
			<label class="switch">
			  <input type="checkbox">
			  <span class="slider round"></span>
			</label>
			<h3>Unauthenticated</h3>
		</div>
		
		<label for="idToken">Set identity token:</label>
		<input type="text" id="idToken" name="idToken" size="50">
		<button type="button" id="setIdentityToken" onclick="setIdentityToken()"> Confirm </button>
		</br>
		</br>
		<button type="button" id="clearAuthBtn" onclick="clearAuthSession()"> Clear Authorization Session </button>

		<script type='text/javascript'>
			document.getElementById('editThisPageLink').href = "https://github.com/ESW1234/esw1234.github.io/edit/master" + window.location.pathname;

			function clearAuthSession() {
				console.log("Clearing user session.");
				embeddedservice_bootstrap.userVerificationAPI.clearSession();
			}

			function setIdentityToken(token) {
				var token = document.getElementById("idToken").value;

				embeddedservice_bootstrap.userVerificationAPI.setIdentityToken({
					"identityTokenType":"JWT",
					// Valid JWT
					"identityToken": token
				});
			}

			window.addEventListener("onEmbeddedMessagingReady", () => {
				console.log("onEmbeddedMessagingReady emitted");
			});
		</script>
</body>
</html>
